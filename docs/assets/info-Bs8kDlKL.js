import{ab as Ae,ac as be,ad as Ye,ae as Fe,c as J,t as D,n as V,m as q,d as Q,r as p,P as ye,af as Ze,u as pe,l as k,Z as ne,a1 as E,ag as Pe,ah as Ue,ai as je,a3 as Te,aj as ze,ak as Ee,al as Ke,am as qe,a4 as Oe,b as v,an as ae,ao as _e,a2 as W,a8 as Ge,ap as he,w as ce,aq as ge,V as Je,ar as Qe,as as et,Y as Se,a5 as we,B as tt,at,S as nt,au as Ce,e as it,av as lt,aw as xe,o as ot,k as Me,f as st,h as ct,W as rt,ax as ut,$ as dt,E as vt,G as ft,H as ht,ay as gt,az as mt,p as bt,aa as ke,j as _t,_ as wt,A as yt,s as Ie,C as b,v as z,F as Be,aA as Tt,x as Re,y as K,aB as St,J as Ct,K as xt,I as kt,O as It}from"./index-BurNYFqW.js";import{u as Ne}from"./index-B9QZ0Jph.js";import{u as Bt}from"./index-Z-qLAQ-u.js";import{u as Rt,S as Xt,T as $t}from"./index-CW6jlwMZ.js";import{_ as De}from"./dsn-CtJRIpi-.js";function At(e,r,s){let f,d=0;const t=e.scrollLeft,c=s===0?1:Math.round(s*1e3/16);function u(){Ae(f)}function l(){e.scrollLeft+=(r-t)/c,++d<c&&(f=be(l))}return l(),u}function pt(e,r,s,f){let d,t=Ye(e);const c=t<r,u=s===0?1:Math.round(s*1e3/16),l=(r-t)/u;function h(){Ae(d)}function n(){t+=l,(c&&t>r||!c&&t<r)&&(t=r),Fe(e,t),c&&t<r||!c&&t>r?d=be(n):f&&(d=be(f))}return n(),h}const[He,oe]=J("swipe"),Pt={loop:D,width:V,height:V,vertical:Boolean,autoplay:q(0),duration:q(500),touchable:D,lazyRender:Boolean,initialSwipe:q(0),indicatorColor:String,showIndicators:D,stopPropagation:D},Le=Symbol(He);var zt=Q({name:He,props:Pt,emits:["change","dragStart","dragEnd"],setup(e,{emit:r,slots:s}){const f=p(),d=p(),t=ye({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let c=!1;const u=Ze(),{children:l,linkChildren:h}=pe(Le),n=k(()=>l.length),_=k(()=>t[e.vertical?"height":"width"]),x=k(()=>e.vertical?u.deltaY.value:u.deltaX.value),y=k(()=>t.rect?(e.vertical?t.rect.height:t.rect.width)-_.value*n.value:0),T=k(()=>_.value?Math.ceil(Math.abs(y.value)/_.value):n.value),I=k(()=>n.value*_.value),m=k(()=>(t.active+n.value)%n.value),G=k(()=>{const i=e.vertical?"vertical":"horizontal";return u.direction.value===i}),w=k(()=>{const i={transitionDuration:`${t.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${+t.offset.toFixed(2)}px)`};if(_.value){const S=e.vertical?"height":"width",C=e.vertical?"width":"height";i[S]=`${I.value}px`,i[C]=e[C]?`${e[C]}px`:""}return i}),Y=i=>{const{active:S}=t;return i?e.loop?he(S+i,-1,n.value):he(S+i,0,T.value):S},F=(i,S=0)=>{let C=i*_.value;e.loop||(C=Math.min(C,-y.value));let $=S-C;return e.loop||($=he($,y.value,0)),$},R=({pace:i=0,offset:S=0,emitChange:C})=>{if(n.value<=1)return;const{active:$}=t,a=Y(i),o=F(a,S);if(e.loop){if(l[0]&&o!==y.value){const g=o<y.value;l[0].setOffset(g?I.value:0)}if(l[n.value-1]&&o!==0){const g=o>0;l[n.value-1].setOffset(g?-I.value:0)}}t.active=a,t.offset=o,C&&a!==$&&r("change",m.value)},N=()=>{t.swiping=!0,t.active<=-1?R({pace:n.value}):t.active>=n.value&&R({pace:-n.value})},H=()=>{N(),u.reset(),ae(()=>{t.swiping=!1,R({pace:-1,emitChange:!0})})},ee=()=>{N(),u.reset(),ae(()=>{t.swiping=!1,R({pace:1,emitChange:!0})})};let L;const X=()=>clearTimeout(L),Z=()=>{X(),+e.autoplay>0&&n.value>1&&(L=setTimeout(()=>{ee(),Z()},+e.autoplay))},O=(i=+e.initialSwipe)=>{if(!f.value)return;const S=()=>{var C,$;if(!_e(f)){const a={width:f.value.offsetWidth,height:f.value.offsetHeight};t.rect=a,t.width=+((C=e.width)!=null?C:a.width),t.height=+(($=e.height)!=null?$:a.height)}n.value&&(i=Math.min(n.value-1,i),i===-1&&(i=n.value-1)),t.active=i,t.swiping=!0,t.offset=F(i),l.forEach(a=>{a.setOffset(0)}),Z()};_e(f)?W().then(S):S()},U=()=>O(t.active);let te;const re=i=>{!e.touchable||i.touches.length>1||(u.start(i),c=!1,te=Date.now(),X(),N())},ue=i=>{e.touchable&&t.swiping&&(u.move(i),G.value&&(!e.loop&&(t.active===0&&x.value>0||t.active===n.value-1&&x.value<0)||(Ge(i,e.stopPropagation),R({offset:x.value}),c||(r("dragStart",{index:m.value}),c=!0))))},ie=()=>{if(!e.touchable||!t.swiping)return;const i=Date.now()-te,S=x.value/i;if((Math.abs(S)>.25||Math.abs(x.value)>_.value/2)&&G.value){const $=e.vertical?u.offsetY.value:u.offsetX.value;let a=0;e.loop?a=$>0?x.value>0?-1:1:0:a=-Math[x.value>0?"ceil":"floor"](x.value/_.value),R({pace:a,emitChange:!0})}else x.value&&R({pace:0});c=!1,t.swiping=!1,r("dragEnd",{index:m.value}),Z()},de=(i,S={})=>{N(),u.reset(),ae(()=>{let C;e.loop&&i===n.value?C=t.active===0?0:i:C=i%n.value,S.immediate?ae(()=>{t.swiping=!1}):t.swiping=!1,R({pace:C-t.active,emitChange:!0})})},ve=(i,S)=>{const C=S===m.value,$=C?{backgroundColor:e.indicatorColor}:void 0;return v("i",{style:$,class:oe("indicator",{active:C})},null)},fe=()=>{if(s.indicator)return s.indicator({active:m.value,total:n.value});if(e.showIndicators&&n.value>1)return v("div",{class:oe("indicators",{vertical:e.vertical})},[Array(n.value).fill("").map(ve)])};return ne({prev:H,next:ee,state:t,resize:U,swipeTo:de}),h({size:_,props:e,count:n,activeIndicator:m}),E(()=>e.initialSwipe,i=>O(+i)),E(n,()=>O(t.active)),E(()=>e.autoplay,Z),E([Pe,Ue,()=>e.width,()=>e.height],U),E(je(),i=>{i==="visible"?Z():X()}),Te(O),ze(()=>O(t.active)),Ee(()=>O(t.active)),Ke(X),qe(X),Oe("touchmove",ue,{target:d}),()=>{var i;return v("div",{ref:f,class:oe()},[v("div",{ref:d,style:w.value,class:oe("track",{vertical:e.vertical}),onTouchstartPassive:re,onTouchend:ie,onTouchcancel:ie},[(i=s.default)==null?void 0:i.call(s)]),fe()])}}});const Et=ce(zt),[Ot,Xe]=J("tabs");var Mt=Q({name:Ot,props:{count:ge(Number),inited:Boolean,animated:Boolean,duration:ge(V),swipeable:Boolean,lazyRender:Boolean,currentIndex:ge(Number)},emits:["change"],setup(e,{emit:r,slots:s}){const f=p(),d=u=>r("change",u),t=()=>{var u;const l=(u=s.default)==null?void 0:u.call(s);return e.animated||e.swipeable?v(Et,{ref:f,loop:!1,class:Xe("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:d},{default:()=>[l]}):l},c=u=>{const l=f.value;l&&l.state.active!==u&&l.swipeTo(u,{immediate:!e.inited})};return E(()=>e.currentIndex,c),Te(()=>{c(e.currentIndex)}),ne({swipeRef:f}),()=>v("div",{class:Xe("content",{animated:e.animated||e.swipeable})},[t()])}});const[We,se]=J("tabs"),Nt={type:Je("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:q(0),duration:q(.3),animated:Boolean,ellipsis:D,swipeable:Boolean,scrollspy:Boolean,offsetTop:q(0),background:String,lazyRender:D,showHeader:D,lineWidth:V,lineHeight:V,beforeChange:Function,swipeThreshold:q(5),titleActiveColor:String,titleInactiveColor:String},Ve=Symbol(We);var Dt=Q({name:We,props:Nt,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:r,slots:s}){let f,d,t,c,u;const l=p(),h=p(),n=p(),_=p(),x=Ne(),y=Qe(l),[T,I]=Bt(),{children:m,linkChildren:G}=pe(Ve),w=ye({inited:!1,position:"",lineStyle:{},currentIndex:-1}),Y=k(()=>m.length>+e.swipeThreshold||!e.ellipsis||e.shrink),F=k(()=>({borderColor:e.color,background:e.background})),R=(a,o)=>{var g;return(g=a.name)!=null?g:o},N=k(()=>{const a=m[w.currentIndex];if(a)return R(a,w.currentIndex)}),H=k(()=>at(e.offsetTop)),ee=k(()=>e.sticky?H.value+f:0),L=a=>{const o=h.value,g=T.value;if(!Y.value||!o||!g||!g[w.currentIndex])return;const A=g[w.currentIndex].$el,B=A.offsetLeft-(o.offsetWidth-A.offsetWidth)/2;c&&c(),c=At(o,B,a?0:+e.duration)},X=()=>{const a=w.inited;W(()=>{const o=T.value;if(!o||!o[w.currentIndex]||e.type!=="line"||_e(l.value))return;const g=o[w.currentIndex].$el,{lineWidth:A,lineHeight:B}=e,M=g.offsetLeft+g.offsetWidth/2,j={width:Se(A),backgroundColor:e.color,transform:`translateX(${M}px) translateX(-50%)`};if(a&&(j.transitionDuration=`${e.duration}s`),we(B)){const le=Se(B);j.height=le,j.borderRadius=le}w.lineStyle=j})},Z=a=>{const o=a<w.currentIndex?-1:1;for(;a>=0&&a<m.length;){if(!m[a].disabled)return a;a+=o}},O=(a,o)=>{const g=Z(a);if(!we(g))return;const A=m[g],B=R(A,g),M=w.currentIndex!==null;w.currentIndex!==g&&(w.currentIndex=g,o||L(),X()),B!==e.active&&(r("update:active",B),M&&r("change",B,A.title)),t&&!e.scrollspy&&nt(Math.ceil(Ce(l.value)-H.value))},U=(a,o)=>{const g=m.find((B,M)=>R(B,M)===a),A=g?m.indexOf(g):0;O(A,o)},te=(a=!1)=>{if(e.scrollspy){const o=m[w.currentIndex].$el;if(o&&y.value){const g=Ce(o,y.value)-ee.value;d=!0,u&&u(),u=pt(y.value,g,a?0:+e.duration,()=>{d=!1})}}},re=(a,o,g)=>{const{title:A,disabled:B}=m[o],M=R(m[o],o);B||(it(e.beforeChange,{args:[M],done:()=>{O(o),te()}}),lt(a)),r("clickTab",{name:M,title:A,event:g,disabled:B})},ue=a=>{t=a.isFixed,r("scroll",a)},ie=a=>{W(()=>{U(a),te(!0)})},de=()=>{for(let a=0;a<m.length;a++){const{top:o}=xe(m[a].$el);if(o>ee.value)return a===0?0:a-1}return m.length-1},ve=()=>{if(e.scrollspy&&!d){const a=de();O(a)}},fe=()=>{if(e.type==="line"&&m.length)return v("div",{class:se("line"),style:w.lineStyle},null)},i=()=>{var a,o,g;const{type:A,border:B,sticky:M}=e,j=[v("div",{ref:M?void 0:n,class:[se("wrap"),{[tt]:A==="line"&&B}]},[v("div",{ref:h,role:"tablist",class:se("nav",[A,{shrink:e.shrink,complete:Y.value}]),style:F.value,"aria-orientation":"horizontal"},[(a=s["nav-left"])==null?void 0:a.call(s),m.map(le=>le.renderTitle(re)),fe(),(o=s["nav-right"])==null?void 0:o.call(s)])]),(g=s["nav-bottom"])==null?void 0:g.call(s)];return M?v("div",{ref:n},[j]):j},S=()=>{X(),W(()=>{var a,o;L(!0),(o=(a=_.value)==null?void 0:a.swipeRef.value)==null||o.resize()})};E(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],X),E(Pe,S),E(()=>e.active,a=>{a!==N.value&&U(a)}),E(()=>m.length,()=>{w.inited&&(U(e.active),X(),W(()=>{L(!0)}))});const C=()=>{U(e.active,!0),W(()=>{w.inited=!0,n.value&&(f=xe(n.value).height),L(!0)})},$=(a,o)=>r("rendered",a,o);return ne({resize:S,scrollTo:ie}),ze(X),Ee(X),et(C),Rt(l,X),Oe("scroll",ve,{target:y,passive:!0}),G({id:x,props:e,setLine:X,scrollable:Y,onRendered:$,currentName:N,setTitleRefs:I,scrollIntoView:L}),()=>v("div",{ref:l,class:se([e.type])},[e.showHeader?e.sticky?v(Xt,{container:l.value,offsetTop:H.value,onScroll:ue},{default:()=>[i()]}):i():null,v(Mt,{ref:_,count:m.length,inited:w.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:w.currentIndex,onChange:O},{default:()=>{var a;return[(a=s.default)==null?void 0:a.call(s)]}})])}});const Ht=Symbol(),[Lt,$e]=J("tab"),Wt=Q({name:Lt,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:V,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:D},setup(e,{slots:r}){const s=k(()=>{const d={},{type:t,color:c,disabled:u,isActive:l,activeColor:h,inactiveColor:n}=e;c&&t==="card"&&(d.borderColor=c,u||(l?d.backgroundColor=c:d.color=c));const x=l?h:n;return x&&(d.color=x),d}),f=()=>{const d=v("span",{class:$e("text",{ellipsis:!e.scrollable})},[r.title?r.title():e.title]);return e.dot||we(e.badge)&&e.badge!==""?v(ot,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[d]}):d};return()=>v("div",{id:e.id,role:"tab",class:[$e([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:s.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[f()])}}),[Vt,Yt]=J("swipe-item");var Ft=Q({name:Vt,setup(e,{slots:r}){let s;const f=ye({offset:0,inited:!1,mounted:!1}),{parent:d,index:t}=Me(Le);if(!d)return;const c=k(()=>{const h={},{vertical:n}=d.props;return d.size.value&&(h[n?"height":"width"]=`${d.size.value}px`),f.offset&&(h.transform=`translate${n?"Y":"X"}(${f.offset}px)`),h}),u=k(()=>{const{loop:h,lazyRender:n}=d.props;if(!n||s)return!0;if(!f.mounted)return!1;const _=d.activeIndicator.value,x=d.count.value-1,y=_===0&&h?x:_-1,T=_===x&&h?0:_+1;return s=t.value===_||t.value===y||t.value===T,s}),l=h=>{f.offset=h};return Te(()=>{W(()=>{f.mounted=!0})}),ne({setOffset:l}),()=>{var h;return v("div",{class:Yt(),style:c.value},[u.value?(h=r.default)==null?void 0:h.call(r):null])}}});const Zt=ce(Ft),[Ut,me]=J("tab"),jt=st({},ct,{dot:Boolean,name:V,badge:V,title:String,disabled:Boolean,titleClass:rt,titleStyle:[String,Object],showZeroBadge:D});var Kt=Q({name:Ut,props:jt,setup(e,{slots:r}){const s=Ne(),f=p(!1),d=_t(),{parent:t,index:c}=Me(Ve);if(!t)return;const u=()=>{var T;return(T=e.name)!=null?T:c.value},l=()=>{f.value=!0,t.props.lazyRender&&W(()=>{t.onRendered(u(),e.title)})},h=k(()=>{const T=u()===t.currentName.value;return T&&!f.value&&l(),T}),n=p(""),_=p("");ut(()=>{const{titleClass:T,titleStyle:I}=e;n.value=T?ht(T):"",_.value=I&&typeof I!="string"?gt(mt(I)):I});const x=T=>v(Wt,bt({key:s,id:`${t.id}-${c.value}`,ref:t.setTitleRefs(c.value),style:_.value,class:n.value,isActive:h.value,controls:s,scrollable:t.scrollable.value,activeColor:t.props.titleActiveColor,inactiveColor:t.props.titleInactiveColor,onClick:I=>T(d.proxy,c.value,I)},ke(t.props,["type","color","shrink"]),ke(e,["dot","badge","title","disabled","showZeroBadge"])),{title:r.title}),y=p(!h.value);return E(h,T=>{T?y.value=!1:ae(()=>{y.value=!0})}),E(()=>e.title,()=>{t.setLine(),t.scrollIntoView()}),dt(Ht,h),ne({id:s,renderTitle:x}),()=>{var T;const I=`${t.id}-${c.value}`,{animated:m,swipeable:G,scrollspy:w,lazyRender:Y}=t.props;if(!r.default&&!m)return;const F=w||h.value;if(m||G)return v(Zt,{id:s,role:"tabpanel",class:me("panel-wrapper",{inactive:y.value}),tabindex:h.value?0:-1,"aria-hidden":!h.value,"aria-labelledby":I},{default:()=>{var H;return[v("div",{class:me("panel")},[(H=r.default)==null?void 0:H.call(r)])]}});const N=f.value||w||!Y?(T=r.default)==null?void 0:T.call(r):null;return vt(v("div",{id:s,role:"tabpanel",class:me("panel"),tabindex:F?0:-1,"aria-labelledby":I},[N]),[[ft,F]])}}});const qt=ce(Kt),Gt=ce(Dt),P=e=>(Ct("data-v-d6f9ba07"),e=e(),xt(),e),Jt=P(()=>b("div",{class:"header"},[b("img",{src:De,alt:""})],-1)),Qt={class:"main"},ea=P(()=>b("div",{class:"name"},"上海迪士尼",-1)),ta={class:"score"},aa=P(()=>b("span",{class:"num"},"4.9",-1)),na=P(()=>b("span",{class:"month"},"月玩人次 10000+",-1)),ia={class:"tag"},la=P(()=>b("div",{class:"activity"},[b("div",null,"活动一：XXXXXXXXXX"),b("div",null,"活动二：XXXXXXXXXX"),b("div",null,"活动三：XXXXXXXXXX")],-1)),oa={class:"project-list"},sa=P(()=>b("img",{src:De,alt:""},null,-1)),ca={class:"info"},ra=P(()=>b("div",{class:"name"},"激情冲浪",-1)),ua={class:"score"},da=P(()=>b("span",{class:"num"},"4.9",-1)),va=P(()=>b("span",{class:"month"},"月玩人次 1000+",-1)),fa={class:"tag"},ha=P(()=>b("div",null,[b("span",{class:"newamt"},"￥30.00")],-1)),ga={class:"place"},ma=P(()=>b("div",{class:"synopsis"}," 这是简介简介简介这是简介简介简介这是简介简介简介这是简介简介简介这是简介简介简介这是简介简介简介这是简介简介简介这是简介简介简介这是简介简介简介这是简介简介简介 ",-1)),ba=P(()=>b("div",{class:"synopsis"}," 暂无评价 ",-1)),_a=P(()=>b("div",{class:"order"}," person ",-1)),wa={__name:"info",setup(e){const r=yt(),s=p(0),f=p(!1);function d(){r.push({name:"merchantorder"})}return(t,c)=>{const u=kt,l=$t,h=It,n=qt,_=Gt,x=Tt;return Re(),Ie(Be,null,[Jt,b("div",Qt,[ea,b("div",ta,[v(u,{name:"star"}),aa,na]),b("div",ia,[v(l,null,{default:z(()=>[K("米奇")]),_:1}),v(l,null,{default:z(()=>[K("年轻人")]),_:1}),v(l,null,{default:z(()=>[K("标签三")]),_:1})]),la]),v(_,{active:s.value,"onUpdate:active":c[0]||(c[0]=y=>s.value=y),"title-active-color":"#ee0a24",color:"#ee0a24",sticky:"",shrink:""},{default:z(()=>[v(n,{title:"游玩项目"},{default:z(()=>[b("div",oa,[(Re(),Ie(Be,null,St(10,y=>b("div",{class:"item",key:y},[sa,b("div",ca,[ra,b("div",ua,[v(u,{name:"star"}),da,va]),b("div",fa,[v(l,{type:"danger"},{default:z(()=>[K("刺激")]),_:1}),v(l,{type:"danger"},{default:z(()=>[K("年轻人")]),_:1}),v(l,{type:"danger"},{default:z(()=>[K("夏天")]),_:1})]),ha]),b("div",ga,[v(h,{color:"linear-gradient(to right, #ff5a30, #ff5a30)",size:"mini",onClick:d},{default:z(()=>[K(" 立即下单 ")]),_:1})])])),64))])]),_:1}),v(n,{title:"简介"},{default:z(()=>[ma]),_:1}),v(n,{title:"评价"},{default:z(()=>[ba]),_:1})]),_:1},8,["active"]),v(x,{show:f.value,"onUpdate:show":c[1]||(c[1]=y=>f.value=y),position:"bottom",round:""},{default:z(()=>[_a]),_:1},8,["show"])],64)}}},ka=wt(wa,[["__scopeId","data-v-d6f9ba07"]]);export{ka as default};
